
<!DOCTYPE html>

<html class="no-js" lang="vi">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="TÃ i liá»‡u kiáº¿n trÃºc vÃ  phÃ¡t triá»ƒn cho dá»± Ã¡n Chuyá»ƒn Ä‘á»•i sá»‘ TrÆ°á»ng Viá»‡t Anh (dx_vas)." name="description"/>
<meta content="DX VAS Team" name="author"/>
<link href="https://dx.truongvietanh.edu.vn/architecture/system-diagrams/" rel="canonical"/>
<link href="../.." rel="prev"/>
<link href="../rbac-deep-dive/" rel="next"/>
<link href="../../assets/images/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.14" name="generator"/>
<title>SÆ¡ Ä‘á»“ Há»‡ thá»‘ng - DX VAS - Docs</title>
<link href="../../assets/stylesheets/main.342714a4.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="pink" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#so-o-kien-truc-he-thong-dx-vas">
          Bá» qua
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Äáº§u trang" class="md-header__inner md-grid">
<a aria-label="DX VAS - Docs" class="md-header__button md-logo" data-md-component="logo" href="../.." title="DX VAS - Docs">
<img alt="logo" src="../../assets/images/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            DX VAS - Docs
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              SÆ¡ Ä‘á»“ Há»‡ thá»‘ng
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="pink" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="lime" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="TÃ¬m kiáº¿m" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="TÃ¬m kiáº¿m" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="TÃ¬m kiáº¿m" class="md-search__options">
<button aria-label="XoÃ¡" class="md-search__icon md-icon" tabindex="-1" title="XoÃ¡" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/rockymountain/dx-vas.git" title="Xem mÃ£ nguá»“n">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    rockymountain/dx-vas
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../..">
          
  
  
    
  
  Kiáº¿n trÃºc Há»‡ thá»‘ng

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../dev/dev-guide/">
          
  
  
    
  
  HÆ°á»›ng dáº«n PhÃ¡t triá»ƒn

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../services/user-service/design/">
          
  
  
    
  
  Thiáº¿t káº¿ Services

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../ADR/">
          
  
  
    
  
  Quyáº¿t Ä‘á»‹nh Kiáº¿n trÃºc (ADRs)

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Thanh Ä‘iá»u hÆ°á»›ng" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="DX VAS - Docs" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="DX VAS - Docs">
<img alt="logo" src="../../assets/images/logo.png"/>
</a>
    DX VAS - Docs
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/rockymountain/dx-vas.git" title="Xem mÃ£ nguá»“n">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    rockymountain/dx-vas
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Kiáº¿n trÃºc Há»‡ thá»‘ng
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Kiáº¿n trÃºc Há»‡ thá»‘ng
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    SÆ¡ Ä‘á»“ Há»‡ thá»‘ng
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    SÆ¡ Ä‘á»“ Há»‡ thá»‘ng
    
  </span>
</a>
<nav aria-label="Má»¥c lá»¥c" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Má»¥c lá»¥c
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#muc-luc">
<span class="md-ellipsis">
      ğŸ“š Má»¥c lá»¥c
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1-so-o-tong-quan-he-thong">
<span class="md-ellipsis">
      1. SÆ¡ Ä‘á»“ tá»•ng quan há»‡ thá»‘ng
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-admission-flow-luong-tuyen-sinh">
<span class="md-ellipsis">
      2. Admission Flow â€“ Luá»“ng Tuyá»ƒn sinh
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-notification-flow-luong-gui-thong-bao">
<span class="md-ellipsis">
      3. Notification Flow â€“ Luá»“ng Gá»­i ThÃ´ng bÃ¡o
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-rbac-evaluation-flow-luong-anh-gia-phan-quyen-ong">
<span class="md-ellipsis">
      4. RBAC Evaluation Flow â€“ Luá»“ng ÄÃ¡nh giÃ¡ PhÃ¢n quyá»n Äá»™ng
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-data-synchronization-flow-ong-bo-hoc-sinh-crm-sis-lms">
<span class="md-ellipsis">
      5. Data Synchronization Flow â€“ Äá»“ng bá»™ há»c sinh CRM â†’ SIS â†’ LMS
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-service-to-service-auth-flow-giao-tiep-giua-cac-dich-vu-noi-bo">
<span class="md-ellipsis">
      6. Service-to-Service Auth Flow â€“ Giao tiáº¿p giá»¯a cÃ¡c dá»‹ch vá»¥ ná»™i bá»™
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-user-account-lifecycle-flow-vong-oi-tai-khoan-nguoi-dung">
<span class="md-ellipsis">
      7. User Account Lifecycle Flow â€“ VÃ²ng Ä‘á»i tÃ i khoáº£n ngÆ°á»i dÃ¹ng
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-chu-giai-so-o-legend-huong-dan-oc">
<span class="md-ellipsis">
      8. ChÃº giáº£i sÆ¡ Ä‘á»“ (Legend) - HÆ°á»›ng dáº«n Ä‘á»c
    </span>
</a>
<nav aria-label="8. ChÃº giáº£i sÆ¡ Ä‘á»“ (Legend) - HÆ°á»›ng dáº«n Ä‘á»c" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ky-hieu-cac-thanh-phan-dung-trong-flowchart-sequencediagram">
<span class="md-ellipsis">
      ğŸ§© KÃ½ hiá»‡u cÃ¡c thÃ nh pháº§n (dÃ¹ng trong flowchart &amp; sequenceDiagram):
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cach-oc-so-o">
<span class="md-ellipsis">
      ğŸ§­ CÃ¡ch Ä‘á»c sÆ¡ Ä‘á»“
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#luu-y-van-hanh">
<span class="md-ellipsis">
      ğŸ” LÆ°u Ã½ váº­n hÃ nh
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#duy-tri-cap-nhat">
<span class="md-ellipsis">
      ğŸ›  Duy trÃ¬ &amp; cáº­p nháº­t
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9-deployment-overview-diagram-so-o-trien-khai-tong-quan">
<span class="md-ellipsis">
      9. Deployment Overview Diagram â€“ SÆ¡ Ä‘á»“ triá»ƒn khai tá»•ng quan
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../rbac-deep-dive/">
<span class="md-ellipsis">
    RBAC Chi tiáº¿t
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    HÆ°á»›ng dáº«n PhÃ¡t triá»ƒn
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            HÆ°á»›ng dáº«n PhÃ¡t triá»ƒn
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../dev/dev-guide/">
<span class="md-ellipsis">
    Tá»•ng quan PhÃ¡t triá»ƒn (Dev Guide)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dev/backend-dev-guide/">
<span class="md-ellipsis">
    Backend Dev Guide
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dev/ops-guide/">
<span class="md-ellipsis">
    Váº­n hÃ nh &amp; DevOps (Ops Guide)
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Thiáº¿t káº¿ Services
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Thiáº¿t káº¿ Services
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
<span class="md-ellipsis">
    User Service
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
            User Service
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../services/user-service/design/">
<span class="md-ellipsis">
    Tá»•ng quan Thiáº¿t káº¿
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../services/user-service/interface-contract/">
<span class="md-ellipsis">
    Há»£p Ä‘á»“ng Giao diá»‡n
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../services/user-service/data-model/">
<span class="md-ellipsis">
    MÃ´ hÃ¬nh Dá»¯ liá»‡u
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../services/user-service/openapi.yaml">
<span class="md-ellipsis">
    Äáº·c táº£ OpenAPI
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ADR/">
<span class="md-ellipsis">
    Quyáº¿t Ä‘á»‹nh Kiáº¿n trÃºc (ADRs)
    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Quyáº¿t Ä‘á»‹nh Kiáº¿n trÃºc (ADRs)
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Má»¥c lá»¥c" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Má»¥c lá»¥c
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#muc-luc">
<span class="md-ellipsis">
      ğŸ“š Má»¥c lá»¥c
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1-so-o-tong-quan-he-thong">
<span class="md-ellipsis">
      1. SÆ¡ Ä‘á»“ tá»•ng quan há»‡ thá»‘ng
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-admission-flow-luong-tuyen-sinh">
<span class="md-ellipsis">
      2. Admission Flow â€“ Luá»“ng Tuyá»ƒn sinh
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-notification-flow-luong-gui-thong-bao">
<span class="md-ellipsis">
      3. Notification Flow â€“ Luá»“ng Gá»­i ThÃ´ng bÃ¡o
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-rbac-evaluation-flow-luong-anh-gia-phan-quyen-ong">
<span class="md-ellipsis">
      4. RBAC Evaluation Flow â€“ Luá»“ng ÄÃ¡nh giÃ¡ PhÃ¢n quyá»n Äá»™ng
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-data-synchronization-flow-ong-bo-hoc-sinh-crm-sis-lms">
<span class="md-ellipsis">
      5. Data Synchronization Flow â€“ Äá»“ng bá»™ há»c sinh CRM â†’ SIS â†’ LMS
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-service-to-service-auth-flow-giao-tiep-giua-cac-dich-vu-noi-bo">
<span class="md-ellipsis">
      6. Service-to-Service Auth Flow â€“ Giao tiáº¿p giá»¯a cÃ¡c dá»‹ch vá»¥ ná»™i bá»™
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-user-account-lifecycle-flow-vong-oi-tai-khoan-nguoi-dung">
<span class="md-ellipsis">
      7. User Account Lifecycle Flow â€“ VÃ²ng Ä‘á»i tÃ i khoáº£n ngÆ°á»i dÃ¹ng
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-chu-giai-so-o-legend-huong-dan-oc">
<span class="md-ellipsis">
      8. ChÃº giáº£i sÆ¡ Ä‘á»“ (Legend) - HÆ°á»›ng dáº«n Ä‘á»c
    </span>
</a>
<nav aria-label="8. ChÃº giáº£i sÆ¡ Ä‘á»“ (Legend) - HÆ°á»›ng dáº«n Ä‘á»c" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ky-hieu-cac-thanh-phan-dung-trong-flowchart-sequencediagram">
<span class="md-ellipsis">
      ğŸ§© KÃ½ hiá»‡u cÃ¡c thÃ nh pháº§n (dÃ¹ng trong flowchart &amp; sequenceDiagram):
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cach-oc-so-o">
<span class="md-ellipsis">
      ğŸ§­ CÃ¡ch Ä‘á»c sÆ¡ Ä‘á»“
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#luu-y-van-hanh">
<span class="md-ellipsis">
      ğŸ” LÆ°u Ã½ váº­n hÃ nh
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#duy-tri-cap-nhat">
<span class="md-ellipsis">
      ğŸ›  Duy trÃ¬ &amp; cáº­p nháº­t
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9-deployment-overview-diagram-so-o-trien-khai-tong-quan">
<span class="md-ellipsis">
      9. Deployment Overview Diagram â€“ SÆ¡ Ä‘á»“ triá»ƒn khai tá»•ng quan
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="so-o-kien-truc-he-thong-dx-vas">SÆ¡ Ä‘á»“ Kiáº¿n trÃºc Há»‡ thá»‘ng dx-vas<a class="headerlink" href="#so-o-kien-truc-he-thong-dx-vas" title="Permanent link">Â¶</a></h1>
<p>TÃ i liá»‡u nÃ y táº­p há»£p táº¥t cáº£ cÃ¡c sÆ¡ Ä‘á»“ kiáº¿n trÃºc quan trá»ng cá»§a há»‡ thá»‘ng chuyá»ƒn Ä‘á»•i sá»‘ dx-vas, bao gá»“m:</p>
<ul>
<li>SÆ¡ Ä‘á»“ kiáº¿n trÃºc tá»•ng thá»ƒ</li>
<li>Diá»…n giáº£i cÃ¡c khá»‘i chá»©c nÄƒng</li>
<li>CÃ¡c sÆ¡ Ä‘á»“ con chi tiáº¿t theo tá»«ng luá»“ng nghiá»‡p vá»¥ (vÃ­ dá»¥: Tuyá»ƒn sinh, ThÃ´ng bÃ¡o, PhÃ¢n quyá»n RBAC...)</li>
</ul>
<h2 id="muc-luc">ğŸ“š Má»¥c lá»¥c<a class="headerlink" href="#muc-luc" title="Permanent link">Â¶</a></h2>
<ol>
<li><a href="#1-sÆ¡-Ä‘á»“-tá»•ng-quan-há»‡-thá»‘ng">SÆ¡ Ä‘á»“ tá»•ng quan há»‡ thá»‘ng</a></li>
<li><a href="#2-admission-flow--luá»“ng-tuyá»ƒn-sinh">Admission Flow â€“ Luá»“ng Tuyá»ƒn sinh</a></li>
<li><a href="#3-notification-flow--luá»“ng-gá»­i-thÃ´ng-bÃ¡o">Notification Flow â€“ Luá»“ng Gá»­i ThÃ´ng bÃ¡o</a></li>
<li><a href="#4-rbac-evaluation-flow--luá»“ng-Ä‘Ã¡nh-giÃ¡-phÃ¢n-quyá»n-Ä‘á»™ng">RBAC Evaluation Flow â€“ Luá»“ng ÄÃ¡nh giÃ¡ PhÃ¢n quyá»n Äá»™ng</a></li>
<li><a href="#5-data-synchronization-flow--Ä‘á»“ng-bá»™-há»c-sinh-crm--sis--lms">Data Synchronization Flow â€“ Äá»“ng bá»™ há»c sinh CRM â†’ SIS â†’ LMS</a></li>
<li><a href="#6-service-to-service-auth-flow--giao-tiáº¿p-giá»¯a-cÃ¡c-dá»‹ch-vá»¥-ná»™i-bá»™">Service-to-Service Auth Flow â€“ Giao tiáº¿p giá»¯a cÃ¡c dá»‹ch vá»¥ ná»™i bá»™</a></li>
<li><a href="#7-user-account-lifecycle-flow--vÃ²ng-Ä‘á»i-tÃ i-khoáº£n-ngÆ°á»i-dÃ¹ng">User Account Lifecycle Flow â€“ VÃ²ng Ä‘á»i tÃ i khoáº£n ngÆ°á»i dÃ¹ng</a></li>
<li><a href="#8-chÃº-giáº£i-sÆ¡-Ä‘á»“-legend---hÆ°á»›ng-dáº«n-Ä‘á»c">ChÃº giáº£i sÆ¡ Ä‘á»“ (Legend) - HÆ°á»›ng dáº«n Ä‘á»c</a></li>
<li><a href="#9-deployment-overview-diagram--sÆ¡-Ä‘á»“-triá»ƒn-khai-tá»•ng-quan">Deployment Overview Diagram â€“ SÆ¡ Ä‘á»“ triá»ƒn khai tá»•ng quan</a></li>
</ol>
<hr/>
<h2 id="1-so-o-tong-quan-he-thong">1. SÆ¡ Ä‘á»“ tá»•ng quan há»‡ thá»‘ng<a class="headerlink" href="#1-so-o-tong-quan-he-thong" title="Permanent link">Â¶</a></h2>
<pre class="mermaid"><code>flowchart TD
  subgraph Client_Apps
    Webform[Public Webform]
    Parent[PWA - Customer Portal]
    Staff[SPA - Admin Webapp]
  end

  subgraph Core_Services
    Gateway[API Gateway]
    Auth[Auth Service]
    User[User Service]
    Noti[Notification Service]
  end

  subgraph Business_Adapters
    CRM[CRM Adapter]
    SIS[SIS Adapter]
    LMS[LMS Adapter]
  end

  subgraph External_Services
    GSuite[Google OAuth2]
    Zalo[Zalo OA API]
    Gmail[Gmail API]
    Chat[Google Chat API]
  end

  Webform --&gt;|lead| CRM
  Parent --&gt; Gateway
  Staff --&gt; Gateway

  Gateway --&gt;|OAuth2 / OTP| Auth
  Gateway --&gt;|RBAC check| User
  Gateway --&gt;|Notify| Noti
  Gateway --&gt; CRM
  Gateway --&gt; SIS
  Gateway --&gt; LMS

  Noti --&gt; Zalo
  Noti --&gt; Gmail
  Noti --&gt; Chat
  Auth --&gt; GSuite

</code></pre>
<p><strong>Diá»…n giáº£i sÆ¡ Ä‘á»“ tá»•ng quan</strong></p>
<ol>
<li>ğŸ–¥ï¸ Client Applications (Giao diá»‡n ngÆ°á»i dÃ¹ng)</li>
<li><strong>Public Webform</strong>: Cá»•ng thu lead tuyá»ƒn sinh.</li>
<li><strong>Customer Portal (PWA)</strong>: Giao diá»‡n dÃ nh cho phá»¥ huynh &amp; há»c sinh â€“ OTP login, xem Ä‘iá»ƒm, lá»‹ch há»c, thÃ´ng bÃ¡o...</li>
<li><strong>Admin Webapp (SPA)</strong>: Giao diá»‡n dÃ nh cho nhÃ¢n viÃªn, giÃ¡o viÃªn â€“ quáº£n lÃ½ há»c sinh, lá»›p, RBAC, thÃ´ng bÃ¡o...<blockquote>
<p>Hai á»©ng dá»¥ng nÃ y (Admin Webapp, Customer Portal) thay tháº¿ hoÃ n toÃ n viá»‡c truy cáº­p trá»±c tiáº¿p vÃ o UI cá»§a SuiteCRM, Gibbon, Moodle.</p>
</blockquote>
</li>
<li>ğŸ§  Core Services</li>
<li><strong>API Gateway</strong>: Äiá»ƒm kiá»ƒm soÃ¡t chÃ­nh, thá»±c hiá»‡n xÃ¡c thá»±c, RBAC vÃ  Ä‘á»‹nh tuyáº¿n request.</li>
<li><strong>Auth Service</strong>: XÃ¡c thá»±c Google OAuth2 vÃ  OTP.</li>
<li><strong>User Service</strong>: Quáº£n lÃ½ thÃ´ng tin ngÆ°á»i dÃ¹ng, phÃ¢n quyá»n.</li>
<li><strong>Notification Service</strong>: Gá»­i thÃ´ng bÃ¡o Ä‘a kÃªnh.</li>
<li>ğŸ”Œ Business Adapters</li>
<li>CÃ¡c lá»›p tÃ­ch há»£p vá»›i há»‡ thá»‘ng CRM, SIS, LMS qua API.</li>
<li>ğŸŒ External Services</li>
<li>CÃ¡c dá»‹ch vá»¥ ngoÃ i nhÆ° Google OAuth2, Gmail API, Zalo OA, Google Chat API.</li>
</ol>
<hr/>
<h2 id="2-admission-flow-luong-tuyen-sinh">2. Admission Flow â€“ Luá»“ng Tuyá»ƒn sinh<a class="headerlink" href="#2-admission-flow-luong-tuyen-sinh" title="Permanent link">Â¶</a></h2>
<pre class="mermaid"><code>flowchart TD
  A[Public Webform] --&gt; B[CRM Adapter]
  B --&gt; C[SuiteCRM]

  C --&gt;|Pipeline chuyá»ƒn Ä‘á»•i Lead â†’ Há»c sinh| D[SIS Adapter]
  D --&gt; E[Gibbon SIS]

  E --&gt;|Táº¡o user há»c sinh + lá»›p há»c| F[LMS Adapter]
  F --&gt; G[Moodle LMS]

  subgraph Frontend
    A
  end

  subgraph Business Systems
    C
    E
    G
  end

  subgraph Adapters
    B
    D
    F
  end

</code></pre>
<p><strong>Diá»…n giáº£i Admission Flow:</strong></p>
<ol>
<li><strong>Phá»¥ huynh Ä‘iá»n thÃ´ng tin táº¡i Public Webform</strong> â†’ <strong>CRM Adapter</strong> tiáº¿p nháº­n dá»¯ liá»‡u.</li>
<li><strong>CRM Adapter</strong> chuyá»ƒn tiáº¿p qua API Gateway Ä‘á»ƒ táº¡o báº£n ghi lead trong <strong>SuiteCRM</strong>, nÆ¡i quáº£n lÃ½ pipeline tuyá»ƒn sinh (vÃ­ dá»¥: liÃªn há»‡, thá»­ lá»›p, Ä‘Ã³ng phÃ­...).</li>
<li>Khi lead Ä‘á»§ Ä‘iá»u kiá»‡n nháº­p há»c:</li>
<li>CRM gá»­i thÃ´ng tin sang <strong>SIS Adapter</strong> Ä‘á»ƒ táº¡o há»c sinh trong <strong>Gibbon SIS</strong>.</li>
<li>SIS xá»­ lÃ½:</li>
<li>Táº¡o há»“ sÆ¡ há»c sinh, gÃ¡n lá»›p, mÃ£ sá»‘ Ä‘á»‹nh danh ná»™i bá»™.</li>
<li>Äáº©y thÃ´ng tin sang <strong>LMS Adapter</strong> Ä‘á»ƒ khá»Ÿi táº¡o tÃ i khoáº£n Moodle.</li>
<li>Há»c sinh Ä‘Æ°á»£c khá»Ÿi táº¡o trong <strong>Moodle LMS</strong> vá»›i liÃªn káº¿t SIS-ID, Ä‘Æ°á»£c phÃ¢n lá»›p vÃ  kÃ­ch hoáº¡t lá»™ trÃ¬nh há»c trá»±c tuyáº¿n.</li>
</ol>
<p>ğŸ“Œ ToÃ n bá»™ quÃ¡ trÃ¬nh nÃ y Ä‘i qua API Gateway vÃ  cÃ¡c adapter, khÃ´ng tÆ°Æ¡ng tÃ¡c trá»±c tiáº¿p vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u ná»™i bá»™ cá»§a SuiteCRM, Gibbon, Moodle.</p>
<hr/>
<h2 id="3-notification-flow-luong-gui-thong-bao">3. Notification Flow â€“ Luá»“ng Gá»­i ThÃ´ng bÃ¡o<a class="headerlink" href="#3-notification-flow-luong-gui-thong-bao" title="Permanent link">Â¶</a></h2>
<pre class="mermaid"><code>sequenceDiagram
  participant Service as Há»‡ thá»‘ng phÃ¡t sinh sá»± kiá»‡n (CRM/SIS/LMS)
  participant Gateway as API Gateway
  participant Noti as Notification Service
  participant Zalo as Zalo OA
  participant Gmail as Gmail API
  participant Chat as Google Chat

  Service-&gt;&gt;Gateway: Gá»­i yÃªu cáº§u gá»­i thÃ´ng bÃ¡o (POST /notifications)
  Gateway-&gt;&gt;Noti: Forward request + X-User-ID + RBAC check

  Noti-&gt;&gt;Noti: Kiá»ƒm tra phÃ¢n quyá»n + Tra cáº¥u hÃ¬nh kÃªnh Æ°a thÃ­ch
  alt Gá»­i qua Zalo OA
    Noti-&gt;&gt;Zalo: ZNS API
  end
  alt Gá»­i qua Gmail
    Noti-&gt;&gt;Gmail: Gmail API
  end
  alt Gá»­i qua Google Chat
    Noti-&gt;&gt;Chat: Chat webhook
  end

</code></pre>
<p><strong>Diá»…n giáº£i Notification Flow:</strong></p>
<ol>
<li><strong>Má»™t service nghiá»‡p vá»¥ (CRM, SIS, LMS...) phÃ¡t sinh sá»± kiá»‡n</strong> â€“ vÃ­ dá»¥:</li>
<li>CRM: phá»¥ huynh Ä‘Äƒng kÃ½ thÃ nh cÃ´ng</li>
<li>SIS: há»c sinh Ä‘iá»ƒm danh trá»…</li>
<li>LMS: bÃ i táº­p Ä‘áº¿n háº¡n</li>
<li>Service gá»i <code>POST /notifications</code> qua API Gateway, Ä‘Ã­nh kÃ¨m JWT hoáº·c service token.</li>
<li><strong>API Gateway thá»±c hiá»‡n kiá»ƒm tra phÃ¢n quyá»n</strong> (náº¿u lÃ  ngÆ°á»i dÃ¹ng cuá»‘i), rá»“i forward tá»›i Notification Service.</li>
<li><strong>Notification Service</strong> kiá»ƒm tra:</li>
<li>User cÃ³ quyá»n nháº­n loáº¡i thÃ´ng bÃ¡o nÃ y khÃ´ng?</li>
<li>KÃªnh Æ°a thÃ­ch lÃ  gÃ¬? (Zalo / Gmail / Google Chat / WebPush...)</li>
<li>ThÃ´ng bÃ¡o Ä‘Æ°á»£c gá»­i Ä‘i qua cÃ¡c API tÆ°Æ¡ng á»©ng, vá»›i retry vÃ  xá»­ lÃ½ lá»—i náº¿u cáº§n.</li>
</ol>
<p>ğŸ“Œ Notification Service há»— trá»£ gá»­i Ä‘á»“ng thá»i nhiá»u kÃªnh vÃ  cÃ³ thá»ƒ log láº¡i tá»«ng tráº¡ng thÃ¡i gá»­i, cho phÃ©p tracking vÃ  alert náº¿u gá»­i tháº¥t báº¡i.</p>
<hr/>
<h2 id="4-rbac-evaluation-flow-luong-anh-gia-phan-quyen-ong">4. RBAC Evaluation Flow â€“ Luá»“ng ÄÃ¡nh giÃ¡ PhÃ¢n quyá»n Äá»™ng<a class="headerlink" href="#4-rbac-evaluation-flow-luong-anh-gia-phan-quyen-ong" title="Permanent link">Â¶</a></h2>
<pre class="mermaid"><code>sequenceDiagram
  participant Client as Client App (PWA/SPA)
  participant Gateway as API Gateway
  participant Redis as Redis Cache
  participant UserSvc as User Service
  participant Backend as Backend Service

  Client-&gt;&gt;Gateway: Gá»­i request + JWT
  Gateway-&gt;&gt;Gateway: Giáº£i mÃ£ + xÃ¡c thá»±c JWT
  Gateway-&gt;&gt;UserSvc: Kiá»ƒm tra is_active (optional)
  Gateway-&gt;&gt;Redis: Tra RBAC:{user_id} cache
  alt Cache hit
    Gateway-&gt;&gt;Gateway: Láº¥y danh sÃ¡ch permission + condition
  else Cache miss
    Gateway-&gt;&gt;UserSvc: GET /users/{id}/permissions
    UserSvc--&gt;&gt;Gateway: Tráº£ vá» danh sÃ¡ch role, permission, condition
    Gateway-&gt;&gt;Redis: Ghi láº¡i cache
  end

  Gateway-&gt;&gt;Gateway: Evaluate permission + condition theo context
  alt Pass
    Gateway-&gt;&gt;Backend: Forward request + X-Permissions + X-User-ID
  else Fail
    Gateway--&gt;&gt;Client: 403 Forbidden
  end
</code></pre>
<p><strong>Diá»…n giáº£i RBAC Evaluation Flow:</strong></p>
<ol>
<li><strong>Client App (PWA/SPA)</strong> gá»­i request REST Ä‘áº¿n API Gateway, kÃ¨m theo JWT (Bearer token).</li>
<li><strong>API Gateway</strong>:</li>
<li>Giáº£i mÃ£ vÃ  xÃ¡c thá»±c token (kiá»ƒm tra chá»¯ kÃ½, thá»i háº¡n).</li>
<li>Kiá»ƒm tra tráº¡ng thÃ¡i <code>is_active</code> cá»§a user tá»« User Service (náº¿u cáº§n).</li>
<li>Tra Redis: key <code>RBAC:{user_id}</code> Ä‘á»ƒ láº¥y danh sÃ¡ch permissions.</li>
<li>Náº¿u Redis cache <strong>hit</strong>:</li>
<li>Gateway láº¥y danh sÃ¡ch <code>permission</code> kÃ¨m <code>condition</code> JSONB.</li>
<li>Náº¿u cache <strong>miss</strong>:</li>
<li>Gateway gá»i <code>GET /users/{id}/permissions</code> tá»« User Service.</li>
<li>Ghi dá»¯ liá»‡u RBAC má»›i vÃ o Redis vá»›i TTL.</li>
<li><strong>Evaluate</strong>:</li>
<li>Gateway so sÃ¡nh tá»«ng permission + condition vá»›i context tá»« request.</li>
<li>Náº¿u cÃ³ Ã­t nháº¥t má»™t permission thá»a: cho phÃ©p request.</li>
<li><strong>Káº¿t quáº£</strong>:</li>
<li>Náº¿u pass: forward Ä‘áº¿n Backend Service, kÃ¨m cÃ¡c header:<ul>
<li><code>X-Permissions</code>: danh sÃ¡ch mÃ£ quyá»n (Ä‘Ã£ pass)</li>
<li><code>X-User-ID</code>, <code>X-Role</code>, <code>Trace-ID</code>...</li>
</ul>
</li>
<li>Náº¿u fail: tráº£ vá» <code>403 Forbidden</code>.</li>
</ol>
<p>ğŸ“Œ RBAC Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ hoÃ n toÃ n táº¡i Gateway, backend khÃ´ng cáº§n decode JWT hay tÃ¡i kiá»ƒm tra quyá»n.</p>
<p>ğŸ“ Tham kháº£o chi tiáº¿t logic phÃ¢n quyá»n Ä‘á»™ng táº¡i: <a href="../rbac-deep-dive/">RBAC Deep Dive</a></p>
<hr/>
<h2 id="5-data-synchronization-flow-ong-bo-hoc-sinh-crm-sis-lms">5. Data Synchronization Flow â€“ Äá»“ng bá»™ há»c sinh CRM â†’ SIS â†’ LMS<a class="headerlink" href="#5-data-synchronization-flow-ong-bo-hoc-sinh-crm-sis-lms" title="Permanent link">Â¶</a></h2>
<pre class="mermaid"><code>sequenceDiagram
  participant CRM as SuiteCRM
  participant CRMA as CRM Adapter
  participant Gateway as API Gateway
  participant SISA as SIS Adapter
  participant SIS as Gibbon SIS
  participant LMSA as LMS Adapter
  participant LMS as Moodle LMS

  CRM-&gt;&gt;CRMA: Gá»­i sá»± kiá»‡n Lead chuyá»ƒn thÃ nh Há»c sinh
  CRMA-&gt;&gt;Gateway: POST /admissions
  Gateway-&gt;&gt;SISA: Forward request

  SISA-&gt;&gt;SIS: Táº¡o há»“ sÆ¡ há»c sinh + gÃ¡n lá»›p
  SIS--&gt;&gt;SISA: Tráº£ vá» mÃ£ há»c sinh (student_id)
  SISA-&gt;&gt;Gateway: POST /students/{id}/sync-to-lms
  Gateway-&gt;&gt;LMSA: Forward request
  LMSA-&gt;&gt;LMS: Táº¡o user Moodle + phÃ¢n lá»›p

  LMS--&gt;&gt;LMSA: OK
  LMSA--&gt;&gt;Gateway: OK
</code></pre>
<p><strong>Diá»…n giáº£i Data Synchronization Flow (CRM â†’ SIS â†’ LMS):</strong></p>
<ol>
<li><strong>Trong SuiteCRM</strong>, khi má»™t <code>Lead</code> Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u lÃ  â€œÄ‘Ã£ trÃºng tuyá»ƒnâ€, CRM sáº½ phÃ¡t sinh sá»± kiá»‡n chuyá»ƒn Ä‘á»•i.</li>
<li><strong>CRM Adapter</strong> tiáº¿p nháº­n sá»± kiá»‡n vÃ  gá»­i <code>POST /admissions</code> qua API Gateway.</li>
<li><strong>API Gateway</strong> forward Ä‘áº¿n <strong>SIS Adapter</strong>, nÆ¡i thá»±c hiá»‡n:</li>
<li>Táº¡o há»c sinh má»›i trong <strong>Gibbon SIS</strong></li>
<li>GÃ¡n vÃ o lá»›p, campus tÆ°Æ¡ng á»©ng</li>
<li>SIS tráº£ vá» <code>student_id</code>, Ä‘Æ°á»£c lÆ°u táº¡i Adapter.</li>
<li>SIS Adapter gá»i tiáº¿p <code>POST /students/{id}/sync-to-lms</code> qua Gateway â†’ forward Ä‘áº¿n <strong>LMS Adapter</strong>.</li>
<li><strong>LMS Adapter</strong> táº¡o tÃ i khoáº£n Moodle cho há»c sinh vÃ  phÃ¢n lá»›p tÆ°Æ¡ng á»©ng.</li>
<li>Sau khi táº¡o thÃ nh cÃ´ng, pháº£n há»“i xÃ¡c nháº­n Ä‘Æ°á»£c gá»­i ngÆ°á»£c vá».</li>
</ol>
<p>ğŸ“Œ Má»i hÃ nh Ä‘á»™ng Ä‘á»u Ä‘i qua API Gateway vÃ  Ä‘Æ°á»£c kiá»ƒm soÃ¡t phÃ¢n quyá»n náº¿u cÃ³ liÃªn quan Ä‘áº¿n user. QuÃ¡ trÃ¬nh sync cÃ³ thá»ƒ Ä‘Æ°á»£c láº·p láº¡i Ä‘á»‹nh ká»³ hoáº·c phÃ¡t Ä‘á»™ng theo event.</p>
<hr/>
<h2 id="6-service-to-service-auth-flow-giao-tiep-giua-cac-dich-vu-noi-bo">6. Service-to-Service Auth Flow â€“ Giao tiáº¿p giá»¯a cÃ¡c dá»‹ch vá»¥ ná»™i bá»™<a class="headerlink" href="#6-service-to-service-auth-flow-giao-tiep-giua-cac-dich-vu-noi-bo" title="Permanent link">Â¶</a></h2>
<pre class="mermaid"><code>sequenceDiagram
  participant ServiceA as Notification Service
  participant Gateway as API Gateway
  participant UserSvc as User Service

  ServiceA-&gt;&gt;Gateway: POST /users/{id}/status + Internal Auth Header
  Gateway-&gt;&gt;Gateway: XÃ¡c thá»±c token ná»™i bá»™ / mTLS
  Gateway-&gt;&gt;UserSvc: Forward request + X-Service-Name + X-Signature
  UserSvc-&gt;&gt;UserSvc: Kiá»ƒm tra Ä‘á»‹nh danh service gá»i
  UserSvc--&gt;&gt;Gateway: Response
  Gateway--&gt;&gt;ServiceA: Response
</code></pre>
<p><strong>Diá»…n giáº£i Service-to-Service Auth Flow:</strong></p>
<ol>
<li><strong>Service A (vÃ­ dá»¥: Notification Service)</strong> cáº§n láº¥y thÃ´ng tin ngÆ°á»i dÃ¹ng, nÃªn gá»i <code>POST /users/{id}/status</code> qua API Gateway.</li>
<li><strong>Gateway xÃ¡c thá»±c danh tÃ­nh Service A</strong>:</li>
<li>ThÃ´ng qua token ná»™i bá»™ (Bearer token dÃ nh cho service)</li>
<li>Hoáº·c qua cÆ¡ cháº¿ mTLS (Mutual TLS)</li>
<li>Sau khi xÃ¡c thá»±c, Gateway forward request Ä‘áº¿n <strong>User Service</strong>, kÃ¨m theo:</li>
<li><code>X-Service-Name</code>: TÃªn service gá»i (vÃ­ dá»¥: <code>notification-service</code>)</li>
<li><code>X-Signature</code>: Chá»¯ kÃ½ HMAC hoáº·c JWT báº£o vá»‡ integrity</li>
<li><strong>User Service</strong> kiá»ƒm tra xem:</li>
<li>Request cÃ³ Ä‘áº¿n tá»« má»™t service tin cáº­y khÃ´ng?</li>
<li>Header cÃ³ há»£p lá»‡ vÃ  khá»›p cáº¥u hÃ¬nh gá»i ná»™i bá»™ khÃ´ng?</li>
<li>Náº¿u há»£p lá»‡: tiáº¿p tá»¥c xá»­ lÃ½ vÃ  tráº£ káº¿t quáº£ vá».</li>
<li>Náº¿u sai Ä‘á»‹nh danh/máº¥t chá»¯ kÃ½: tráº£ lá»—i <code>403</code> hoáº·c <code>401</code>.</li>
</ol>
<p>ğŸ“Œ DÃ¹ lÃ  service ná»™i bá»™, táº¥t cáº£ lá»i gá»i Ä‘á»u pháº£i qua API Gateway Ä‘á»ƒ kiá»ƒm soÃ¡t, trace vÃ  log Ä‘áº§y Ä‘á»§. KhÃ´ng cho phÃ©p service gá»i nhau trá»±c tiáº¿p Ä‘á»ƒ trÃ¡nh rÃ² rá»‰ phÃ¢n quyá»n hoáº·c bypass giÃ¡m sÃ¡t.</p>
<hr/>
<h2 id="7-user-account-lifecycle-flow-vong-oi-tai-khoan-nguoi-dung">7. User Account Lifecycle Flow â€“ VÃ²ng Ä‘á»i tÃ i khoáº£n ngÆ°á»i dÃ¹ng<a class="headerlink" href="#7-user-account-lifecycle-flow-vong-oi-tai-khoan-nguoi-dung" title="Permanent link">Â¶</a></h2>
<pre class="mermaid"><code>flowchart LR
  Create[User Ä‘Æ°á»£c táº¡o\nPOST /users]
  Pending[XÃ¡c minh OTP hoáº·c nháº­n OAuth2]
  Active[is_active = true\nUser cÃ³ thá»ƒ Ä‘Äƒng nháº­p]
  Inactive[is_active = false\nTÃ i khoáº£n bá»‹ vÃ´ hiá»‡u hÃ³a]
  Deleted[TÃ i khoáº£n bá»‹ xÃ³a - is_deleted = true]

  Create --&gt; Pending
  Pending --&gt; Active
  Active --&gt; Inactive
  Inactive --&gt; Active
  Active --&gt; Deleted
  Inactive --&gt; Deleted

  subgraph Events &amp; Side Effects
    RBAC[Emit: rbac_updated]
    STATUS[Emit: user_status_changed]
    Cache[Invalidate RBAC cache]
  end

  Active --&gt; RBAC
  Inactive --&gt; STATUS
  Deleted --&gt; STATUS
  RBAC --&gt; Cache
  STATUS --&gt; Cache
</code></pre>
<p><strong>Diá»…n giáº£i User Account Lifecycle Flow:</strong></p>
<ol>
<li><strong>TÃ i khoáº£n ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c táº¡o</strong>:</li>
<li>Qua <code>POST /users</code> (do nhÃ¢n viÃªn táº¡o), hoáº·c</li>
<li>Tá»± Ä‘á»™ng táº¡o tá»« há»‡ thá»‘ng CRM/SIS/LMS</li>
<li><strong>Tráº¡ng thÃ¡i ban Ä‘áº§u: Pending</strong></li>
<li>Náº¿u lÃ  phá»¥ huynh: chá» xÃ¡c minh OTP</li>
<li>Náº¿u lÃ  GV/NV/HS: chá» xÃ¡c thá»±c qua Google OAuth2</li>
<li>Khi xÃ¡c minh thÃ nh cÃ´ng:</li>
<li>Tráº¡ng thÃ¡i chuyá»ƒn sang <code>is_active = true</code></li>
<li>NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Äƒng nháº­p, JWT Ä‘Æ°á»£c cáº¥p</li>
<li>Trong quÃ¡ trÃ¬nh váº­n hÃ nh:</li>
<li>TÃ i khoáº£n cÃ³ thá»ƒ bá»‹ khÃ³a táº¡m thá»i â†’ <code>is_active = false</code></li>
<li>Khi Ä‘Ã³, má»i request bá»‹ cháº·n táº¡i Gateway</li>
<li>Khi tÃ i khoáº£n bá»‹ xÃ³a (logic delete):</li>
<li>Tráº¡ng thÃ¡i <code>is_deleted = true</code> (náº¿u há»— trá»£)</li>
<li>KhÃ´ng thá»ƒ khÃ´i phá»¥c náº¿u Ä‘Ã£ xÃ³a vÄ©nh viá»…n</li>
</ol>
<hr/>
<p><strong>Sá»± kiá»‡n liÃªn quan:</strong></p>
<ul>
<li>Khi tráº¡ng thÃ¡i user thay Ä‘á»•i:</li>
<li>Gá»­i sá»± kiá»‡n <code>user_status_changed</code></li>
<li>API Gateway hoáº·c cÃ¡c service cÃ³ thá»ƒ xá»­ lÃ½ Ä‘á»ƒ invalidate cache, log báº£o máº­t...</li>
<li>Khi vai trÃ² hoáº·c phÃ¢n quyá»n thay Ä‘á»•i:</li>
<li>Gá»­i sá»± kiá»‡n <code>rbac_updated</code> â†’ cáº­p nháº­t cache RBAC cá»§a ngÆ°á»i dÃ¹ng</li>
</ul>
<p>ğŸ“Œ Viá»‡c kiá»ƒm soÃ¡t vÃ²ng Ä‘á»i user giÃºp há»‡ thá»‘ng Ä‘áº£m báº£o báº£o máº­t, tuÃ¢n thá»§ vÃ  giÃ¡m sÃ¡t cháº·t cháº½ tráº¡ng thÃ¡i tÃ i khoáº£n.</p>
<hr/>
<h2 id="8-chu-giai-so-o-legend-huong-dan-oc">8. ChÃº giáº£i sÆ¡ Ä‘á»“ (Legend) - HÆ°á»›ng dáº«n Ä‘á»c<a class="headerlink" href="#8-chu-giai-so-o-legend-huong-dan-oc" title="Permanent link">Â¶</a></h2>
<h3 id="ky-hieu-cac-thanh-phan-dung-trong-flowchart-sequencediagram">ğŸ§© KÃ½ hiá»‡u cÃ¡c thÃ nh pháº§n (dÃ¹ng trong flowchart &amp; sequenceDiagram):<a class="headerlink" href="#ky-hieu-cac-thanh-phan-dung-trong-flowchart-sequencediagram" title="Permanent link">Â¶</a></h3>
<table>
<thead>
<tr>
<th>KÃ½ hiá»‡u / Label</th>
<th>Ã nghÄ©a</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>HÃ¬nh chá»¯ nháº­t</strong></td>
<td>Dá»‹ch vá»¥ lÃµi trong há»‡ thá»‘ng (Core Service, Adapter)</td>
</tr>
<tr>
<td><strong>HÃ¬nh chá»¯ nháº­t bo gÃ³c</strong></td>
<td>Giao diá»‡n ngÆ°á»i dÃ¹ng (SPA, PWA, Webform) hoáº·c há»‡ thá»‘ng bÃªn ngoÃ i</td>
</tr>
<tr>
<td><strong>MÅ©i tÃªn â†’</strong></td>
<td>Gá»i API hoáº·c hÃ nh Ä‘á»™ng chÃ­nh theo thá»© tá»± thá»i gian</td>
</tr>
<tr>
<td><strong>MÅ©i tÃªn --&gt;&gt;</strong></td>
<td>Tráº£ káº¿t quáº£ hoáº·c pháº£n há»“i</td>
</tr>
<tr>
<td><strong>Alt</strong> (sequence)</td>
<td>NhÃ¡nh Ä‘iá»u kiá»‡n (vÃ­ dá»¥: cache hit/miss, quyá»n pass/fail)</td>
</tr>
<tr>
<td><strong>Subgraph</strong></td>
<td>PhÃ¢n nhÃ³m logic (Frontend, Adapter, External Service...)</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ğŸ“ CÃ¡c label nhÆ° <code>POST /users</code>, <code>X-Permissions</code>, <code>student_id</code>, v.v. dÃ¹ng Ä‘á»ƒ minh há»a request cá»¥ thá»ƒ trong sÆ¡ Ä‘á»“.</p>
</blockquote>
<hr/>
<h3 id="cach-oc-so-o">ğŸ§­ CÃ¡ch Ä‘á»c sÆ¡ Ä‘á»“<a class="headerlink" href="#cach-oc-so-o" title="Permanent link">Â¶</a></h3>
<ol>
<li><strong>Flowchart</strong> (luá»“ng tráº¡ng thÃ¡i, nghiá»‡p vá»¥):  </li>
<li>Äá»c tá»« trÃ¡i qua pháº£i hoáº·c trÃªn xuá»‘ng.</li>
<li>Theo dÃµi cÃ¡c node thá»ƒ hiá»‡n tráº¡ng thÃ¡i hoáº·c hÃ nh Ä‘á»™ng chÃ­nh.</li>
<li>
<p>CÃ¡c nhÃ³m <code>subgraph</code> giÃºp hiá»ƒu má»‘i liÃªn há»‡ giá»¯a thÃ nh pháº§n.</p>
</li>
<li>
<p><strong>Sequence Diagram</strong> (chuá»—i tÆ°Æ¡ng tÃ¡c):  </p>
</li>
<li>Äá»c theo chiá»u dá»c tá»« trÃªn xuá»‘ng.</li>
<li>Cá»™t lÃ  cÃ¡c thÃ nh pháº§n tÆ°Æ¡ng tÃ¡c (participants).</li>
<li>DÃ²ng lÃ  request/response hoáº·c gá»i API ná»™i bá»™.</li>
<li>NhÃ¡nh <code>alt</code> dÃ¹ng Ä‘á»ƒ phÃ¢n nhÃ¡nh xá»­ lÃ½.</li>
</ol>
<hr/>
<h3 id="luu-y-van-hanh">ğŸ” LÆ°u Ã½ váº­n hÃ nh<a class="headerlink" href="#luu-y-van-hanh" title="Permanent link">Â¶</a></h3>
<ul>
<li>Táº¥t cáº£ cÃ¡c sÆ¡ Ä‘á»“ Ä‘á»u pháº£n Ã¡nh kiáº¿n trÃºc chuáº©n hÃ³a cÃ³ API Gateway lÃ m trung tÃ¢m Ä‘iá»u phá»‘i.</li>
<li>KhÃ´ng cÃ³ tÆ°Æ¡ng tÃ¡c trá»±c tiáº¿p giá»¯a cÃ¡c service vá»›i nhau hoáº·c vá»›i há»‡ thá»‘ng káº¿ thá»«a.</li>
<li>PhÃ¢n quyá»n (RBAC), xÃ¡c thá»±c (OAuth2/OTP/mTLS), cache Redis, event-driven Ä‘á»u Ä‘Æ°á»£c mÃ´ hÃ¬nh hÃ³a trong sÆ¡ Ä‘á»“.</li>
</ul>
<hr/>
<h3 id="duy-tri-cap-nhat">ğŸ›  Duy trÃ¬ &amp; cáº­p nháº­t<a class="headerlink" href="#duy-tri-cap-nhat" title="Permanent link">Â¶</a></h3>
<ul>
<li>SÆ¡ Ä‘á»“ Ä‘Æ°á»£c viáº¿t báº±ng mÃ£ <strong>Mermaid</strong> trá»±c tiáº¿p trong file Markdown.</li>
<li>ÄÆ°á»£c version control cÃ¹ng source code, giÃºp dá»… chá»‰nh sá»­a khi kiáº¿n trÃºc thay Ä‘á»•i.</li>
<li>CÃ³ thá»ƒ xuáº¥t thÃ nh áº£nh (SVG/PNG) náº¿u cáº§n Ä‘Æ°a vÃ o slide, wiki, hoáº·c tÃ i liá»‡u PDF.</li>
</ul>
<hr/>
<h2 id="9-deployment-overview-diagram-so-o-trien-khai-tong-quan">9. Deployment Overview Diagram â€“ SÆ¡ Ä‘á»“ triá»ƒn khai tá»•ng quan<a class="headerlink" href="#9-deployment-overview-diagram-so-o-trien-khai-tong-quan" title="Permanent link">Â¶</a></h2>
<pre class="mermaid"><code>flowchart TD
  subgraph User Devices
    Browser[Browser / Mobile App]
  end

  subgraph Internet
    HTTPS[HTTPS Entrypoint]
  end

  subgraph Google Cloud
    %% Core Services
    subgraph Core_Services[Core Services - Cloud Run]
      Gateway[API Gateway]
      Auth[Auth Service]
      User[User Service]
      Noti[Notification Service]
    end

    %% Adapters
    subgraph Adapters[Adapters - Cloud Run]
      CRM[CRM Adapter]
      SIS[SIS Adapter]
      LMS[LMS Adapter]
    end

    %% Infrastructure
    subgraph Infrastructure[Data Infrastructure]
      Redis[Redis Cache - MemoryStore]
      PG[PostgreSQL - Cloud SQL - Core]
      MySQL[MySQL - Cloud SQL - Adapters]
      PubSub[Pub/Sub - Event Bus]
      Storage[GCS - Static Files]
    end
  end

  %% External access
  Browser --&gt; HTTPS --&gt; Gateway

  %% Routing to services
  Gateway --&gt; Auth
  Gateway --&gt; User
  Gateway --&gt; Noti
  Gateway --&gt; CRM
  Gateway --&gt; SIS
  Gateway --&gt; LMS

  %% DB connections
  Auth --&gt; PG
  User --&gt; PG
  Noti --&gt; PG
  CRM --&gt; MySQL
  SIS --&gt; MySQL
  LMS --&gt; MySQL

  %% Event &amp; Cache
  Gateway --&gt; Redis
  User --&gt; Redis
  Gateway --&gt; PubSub
  Noti --&gt; PubSub
  SIS --&gt; PubSub
  LMS --&gt; PubSub

  Gateway --&gt; Storage

</code></pre>
<p><strong>Diá»…n giáº£i sÆ¡ Ä‘á»“ triá»ƒn khai tá»•ng quan:</strong></p>
<ol>
<li><strong>Client (Browser/Mobile App)</strong> giao tiáº¿p qua HTTPS â†’ truy cáº­p vÃ o Ä‘iá»ƒm vÃ o duy nháº¥t: <code>API Gateway</code>.</li>
<li><strong>API Gateway</strong>, cÃ¹ng táº¥t cáº£ cÃ¡c service (Auth, User, Notification, CRM/SIS/LMS Adapter), Ä‘á»u Ä‘Æ°á»£c triá»ƒn khai dÆ°á»›i dáº¡ng container serverless trÃªn <strong>Google Cloud Run</strong>.</li>
<li><strong>CÃ¡c Core Services</strong> (Auth, User, Notification) sá»­ dá»¥ng <strong>PostgreSQL</strong> qua <strong>Cloud SQL</strong> Ä‘á»ƒ táº­n dá»¥ng kháº£ nÄƒng xá»­ lÃ½ JSONB, concurrency cao vÃ  cÃ¡c tÃ­nh nÄƒng SQL nÃ¢ng cao.</li>
<li><strong>CÃ¡c Adapter (CRM, SIS, LMS)</strong> sá»­ dá»¥ng <strong>MySQL</strong>, tÆ°Æ¡ng thÃ­ch vá»›i há»‡ quáº£n trá»‹ máº·c Ä‘á»‹nh cá»§a cÃ¡c há»‡ thá»‘ng tÃ­ch há»£p (SuiteCRM, Gibbon, Moodle).</li>
<li>Dá»¯ liá»‡u RBAC vÃ  token Ä‘Æ°á»£c cache qua <strong>Redis (MemoryStore)</strong>.</li>
<li>Giao tiáº¿p báº¥t Ä‘á»“ng bá»™ (event-driven) sá»­ dá»¥ng <strong>Pub/Sub</strong> â€“ cÃ¡c service phÃ¡t/sá»­ dá»¥ng sá»± kiá»‡n qua event bus nÃ y.</li>
<li><strong>Static file</strong> (áº£nh, logo, config...) Ä‘Æ°á»£c phá»¥c vá»¥ qua <strong>Google Cloud Storage (GCS)</strong>.</li>
<li>Má»i lá»i gá»i giá»¯a cÃ¡c service Ä‘á»u pháº£i qua Gateway (hoáº·c gá»i ná»™i bá»™ cÃ³ kiá»ƒm soÃ¡t qua Envoy/mTLS) Ä‘á»ƒ Ä‘áº£m báº£o xÃ¡c thá»±c, phÃ¢n quyá»n vÃ  kháº£ nÄƒng theo dÃµi (traceability).</li>
</ol>
<p>ğŸ“Œ Cáº¥u trÃºc triá»ƒn khai nÃ y Ä‘áº£m báº£o:
- Kháº£ nÄƒng má»Ÿ rá»™ng linh hoáº¡t (Cloud Run autoscale)
- Tá»‘i Æ°u hiá»‡u nÄƒng vÃ  tÃ­nh nÄƒng theo tá»«ng nhÃ³m thÃ nh pháº§n
- TÃ¡ch biá»‡t logic rÃµ rÃ ng (each service = 1 container)
- Báº£o máº­t cháº·t cháº½ vÃ  dá»… dÃ ng giÃ¡m sÃ¡t váº­n hÃ nh</p>
<p>ğŸ“ CÆ¡ cháº¿ sá»­ dá»¥ng hai CSDL (PostgreSQL &amp; MySQL) Ä‘Æ°á»£c trÃ¬nh bÃ y rÃµ táº¡i: <a href="../../#háº¡-táº§ng-triá»ƒn-khai">README</a></p>
<hr/>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Trá»Ÿ láº¡i má»¥c lá»¥c
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.code.annotate", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u0110\u00e3 sao ch\u00e9p", "clipboard.copy": "Sao ch\u00e9p v\u00e0o b\u1ed9 nh\u1edb t\u1ea1m", "search.result.more.one": "1 t\u1eeb kh\u00e1c trong trang", "search.result.more.other": "# t\u1eeb kh\u00e1c trong trang", "search.result.none": "Kh\u00f4ng t\u00ecm th\u1ea5y t\u00e0i li\u1ec7u li\u00ean quan", "search.result.one": "1 t\u00e0i li\u1ec7u li\u00ean quan", "search.result.other": "# t\u00e0i li\u1ec7u li\u00ean quan", "search.result.placeholder": "Nh\u1eadp \u0111\u1ec3 b\u1eaft \u0111\u1ea7u t\u00ecm ki\u1ebfm", "search.result.term.missing": "Kh\u00f4ng", "select.version": "Ch\u1ecdn phi\u00ean b\u1ea3n"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
window.mermaidConfig = {default: {
    startOnLoad: false
}};</script></body>
</html>